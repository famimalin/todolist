(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{36:function(t,e,n){},68:function(t,e,n){"use strict";n.r(e);var o=n(0),i=n.n(o),r=n(24),a=n.n(r),s=(n(36),n(11)),c=n(10),u=n(42),d=n(43),l=n(23),h=n(27),p=n(16),b={};var f=n(17),j={getTodoDataStart:"getTodoDataStart",getTodoDataSuccess:"getTodoDataSuccess",getTodoDataError:"getTodoDataError",addTodoSuccess:"addTodoSuccess",editTodoSuccess:"editTodoSuccess",finishTodoSuccess:"finishTodoSuccess",deleteTodoSuccess:"deleteTodoSuccess",resetTodoSuccess:"resetTodoSuccess"},g=window.location.origin,O={ALL:"all",SELF:"self",WORK:"work",BUY:"buy"},v={IDLE:0,FINISH:100,DELETE:200};var m,y={ORIGIN_URL:g,TODO_CATEGORY_TYPE:O,TODO_STATE:v,shallowCopy:function(t){if(void 0!==t)return JSON.parse(JSON.stringify(t))},getTodoCategoryTypeText:function(t){switch(t){case O.ALL:return"\u5168\u90e8";case O.SELF:return"\u500b\u4eba";case O.WORK:return"\u5de5\u4f5c";case O.BUY:return"\u8cfc\u7269\u6e05\u55ae";default:return""}},getTodoStateText:function(t){switch(t){case v.IDLE:return"\u5f85\u8fa6";case v.FINISH:return"\u5b8c\u6210";case v.DELETE:return"\u522a\u9664";default:return""}}},x=y.TODO_CATEGORY_TYPE,T=y.TODO_STATE,S=(m={},Object(f.a)(m,j.getTodoDataStart,(function(t,e){return function(t,e){if(t.isTodoLoading)return t;return Object.assign({},t,{isTodoLoading:!0,isTodoLoadError:!1})}(t)})),Object(f.a)(m,j.getTodoDataSuccess,(function(t,e){return function(t,e){var n=t.todoMap,o=t.todoList,i=e.payload.todoData;if(!i)return t;var r=Object.assign({},n),a=Object.assign({},o);for(var s in i){var c=i[s];r[s]=c,C(c,r,a,!0)}return Object.assign({},t,{isTodoLoading:!1,isTodoLoaded:!0,todoMap:r,todoList:a})}(t,e)})),Object(f.a)(m,j.getTodoDataError,(function(t,e){return function(t,e){if(t.isTodoLoadError)return t;return Object.assign({},t,{isTodoLoading:!1,isTodoLoadError:!0})}(t)})),Object(f.a)(m,j.addTodoSuccess,(function(t,e){return function(t,e){var n=t.todoMap,o=t.todoList,i=e.payload.todo,r=Object.assign({},n),a=Object.assign({},o);return r[i.id]=i,C(i,r,a,!1),Object.assign({},t,{todoMap:r,todoList:a})}(t,e)})),Object(f.a)(m,j.editTodoSuccess,(function(t,e){return function(t,e){var n=t.todoMap,o=t.todoList,i=e.payload.todo,r=Object.assign({},n),a=Object.assign({},o);return r[i.id]=i,M(i.id,a),C(i,r,a,!1),Object.assign({},t,{todoMap:r,todoList:a})}(t,e)})),Object(f.a)(m,j.finishTodoSuccess,(function(t,e){return function(t,e){var n=t.todoMap,o=t.todoList,i=e.payload.todo,r=Object.assign({},n),a=Object.assign({},o);return r[i.id]=i,M(i.id,a),C(i,r,a,!1),Object.assign({},t,{todoMap:r,todoList:a})}(t,e)})),Object(f.a)(m,j.deleteTodoSuccess,(function(t,e){return function(t,e){var n=t.todoMap,o=t.todoList,i=e.payload.todo,r=Object.assign({},n),a=Object.assign({},o);return r[i.id]=i,M(i.id,a),Object.assign({},t,{todoMap:r,todoList:a})}(t,e)})),Object(f.a)(m,j.resetTodoSuccess,(function(t,e){return function(t,e){var n=t.todoMap,o=t.todoList,i=e.payload.todo,r=Object.assign({},n),a=Object.assign({},o);return r[i.id]=i,M(i.id,a),C(i,r,a,!1),Object.assign({},t,{todoMap:r,todoList:a})}(t,e)})),m);function C(t,e,n,o){var i=t.category,r=void 0;switch(i){case x.SELF:case x.WORK:case x.BUY:r=n[i]||{}}r&&(r=k(t,e,r,o),n[i]=r),r=k(t,e,r=n[x.ALL]||{},o),n[x.ALL]=r}function k(t,e,n,o){if(n){var i=t.id,r=t.todotime,a=t.createtime,s=t.state,c=n.today||[],u=n.others||[],d=n.success||[];switch(s){case T.IDLE:r-a>=864e5?(u.push(i),u=o?u:L(u,e)):(c.push(i),c=o?c:L(c,e));break;case T.FINISH:d.push(i),d=o?d:L(d,e);break;case T.DELETE:}n.today=c,n.others=u,n.success=d}return n}function L(t,e){return t.sort((function(t,n){var o=e[t],i=e[n];return(o?o.todotime:0)-(i?i.todotime:0)})),t}function M(t,e){for(var n in x){var o=x[n],i=e[o];if(i){var r=i.today||[],a=i.others||[],s=i.success||[];r=r.filter((function(e){return e!==t})),a=a.filter((function(e){return e!==t})),s=s.filter((function(e){return e!==t})),i.today=r,i.others=a,i.success=s,e[o]=i}}}var w={createWebReducers:function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,n=arguments.length>1?arguments[1]:void 0;return b.hasOwnProperty(n.type)?b[n.type](e,n):e}},createTodoReducers:function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,n=arguments.length>1?arguments[1]:void 0;return S.hasOwnProperty(n.type)?S[n.type](e,n):e}}},E=Object(p.a)(),A=Object(c.applyMiddleware)(u.a,(function(t){return function(t){return function(e){return t(e)}}}),(function(t){return function(t){return function(e){try{return t(e)}catch(n){throw console.error(n),n}}}}),Object(l.routerMiddleware)(E)),D={history:E},I=Object(c.combineReducers)({web:w.createWebReducers({}),todo:w.createTodoReducers({}),router:Object(h.b)(E)}),R={web:D,todo:{isTodoLoading:!1,isTodoLoadError:!1,isTodoLoaded:!1,todoMap:{},todoList:{}}},Y=Object(c.createStore)(I,R,Object(d.composeWithDevTools)(A)),z=n(8),_=n(9),P=n(13),B=n(12),F=n(6),N=function(){function t(e,n){if(Object(z.a)(this,t),void 0===e||void 0===n)throw new Error("GRState constructor error");this.name=e,this.path=n,this.parent=void 0;var o=this.name.lastIndexOf(".");-1!==o&&(this.parent=this.name.substr(0,o))}return Object(_.a)(t,[{key:"includes",value:function(t){return!!t&&0===this.name.indexOf(t)}},{key:"getUrl",value:function(t){if(""===this.path||"/"===this.path)return"/";for(var e,n,o=this.path.split("/"),i="",r=0;r<o.length;r++)0===(e=o[r]).indexOf(":")?(e=e.substr(1),n=!t||void 0===t[e]&&null===t[e]?"":t[e],i=i.concat("/").concat(n)):e&&(i=i.concat("/").concat(e));return i}}]),t}(),H=n(33),G="_ROOT_",U="/",W={name:"_UNKNOW_",path:void 0},K=new Map,q={HOME:"home",SELF:"self",WORK:"work",BUY:"buy",ADD:"add",EDIT:"edit"},J=new(function(){function t(){Object(z.a)(this,t),this.states={},this.levelStateMapList=[],this.slashStateMapList=[],this.absolutePathMap={},this.current=void 0,this.otherwisePath=void 0,this.history=[],this.state(G,U)}return Object(_.a)(t,[{key:"state",value:function(t,e){if(this.states[t])throw new Error("GRState state error, has same statename "+t);var n=new N(t,e);t!==G&&n.path===U&&this.removeRootState(),this.states[t]=n;var o=t.split(".").length-1;this.levelStateMapList[o]||(this.levelStateMapList[o]={}),this.levelStateMapList[o][t]=n;var i=this.getPath(t);this.absolutePathMap[t]=i;var r=i.split("/").length-1;return this.slashStateMapList[r]||(this.slashStateMapList[r]={}),this.slashStateMapList[r][t]=n,this}},{key:"otherwise",value:function(t){this.otherwisePath=t}},{key:"removeRootState",value:function(){delete this.states[G],delete this.absolutePathMap[G],this.levelStateMapList[0]&&delete this.levelStateMapList[0][G],this.slashStateMapList[1]&&delete this.slashStateMapList[1][G]}},{key:"getPath",value:function(t){for(var e,n="",o=t,i=this.states[o];i;)if(n=i.path.concat(n),(e=o.lastIndexOf("."))>0){if(o=o.substr(0,e),!(i=this.states[o]))throw new Error("GRState getPath error, no parent "+o)}else i=void 0;return n}},{key:"getReactRouterList",value:function(){var t,e,n,o;if(this.levelStateMapList.length>1)for(var i=this.levelStateMapList.length-1;i>0;i--){t=this.levelStateMapList[i];var r=this.levelStateMapList[i-1];for(e in t)if(e!==G){n=t[e],o={path:this.absolutePathMap[e],routes:n.routes};var a=r[n.parent];if(!a)throw new Error("GRState getReactRouterList error, wrong relationship on "+e);a.routes||(a.routes=[]),a.routes.push(o)}}t=this.levelStateMapList[0];var s=[];for(e in t)e!==G&&(n=t[e],o={path:this.absolutePathMap[e],routes:n.routes},s.push(o));return s}},{key:"getStateByPath",value:function(t){if(t&&"string"===typeof t){var e=t.split("/"),n=e.length-1,o=this.slashStateMapList[n],i=!1,r=void 0;for(var a in o){var s=o[a],c=this.absolutePathMap[a].split("/");i=!0,r={};for(var u=0;u<=n;u++){var d=e[u],l=c[u];if(0===l.indexOf(":"))r[l.substr(1)]=d;else if(d!==l){i=!1;break}}if(i)return{state:s,params:r}}}}},{key:"updateCurrent",value:function(t,e){if(!t)return this.current={state:W},this.updateHistory(e),!1;var n=this.getStateByPath(t.pathname);return n?(t.search&&(n.querys=Object(H.parse)(t.search.substr(1))),t.state&&(n.locationState=Object.assign({},t.state)),this.current=n,this.updateHistory(e),!0):(this.current={state:Object.assign({},W,{path:t.pathname})},this.updateHistory(e),!1)}},{key:"updateCurrentByPath",value:function(t,e){if(!t)return this.current={state:W},this.updateHistory(e),!1;var n=t.indexOf("?"),o=void 0;-1!==n&&(o=t.substr(n),t=t(0,n));var i=this.getStateByPath(t);return i?(o&&(i.querys=Object(H.parse)(o.substr(1))),this.current=i,this.updateHistory(e),!0):(this.current={state:Object.assign({},W,{path:t})},this.updateHistory(e),!1)}},{key:"updateCurrentByState",value:function(t,e,n,o,i){var r=this.states[t];return r?(this.current={state:r,params:e,querys:n},this.updateHistory(i),!0):(this.current={state:Object.assign({},W,{path:o})},this.updateHistory(i),!1)}},{key:"updateHistory",value:function(t){if(0!==this.history.length)switch(t){case"POP":for(var e=this.history.pop();e&&!this.isActive(e.state.name,e.params,e.querys);)e=this.history.pop();this.history.push(this.current);break;case"REPLACE":this.history[this.history.length-1]=this.current;break;case"PUSH":default:this.history.push(this.current)}else this.history.push(this.current)}},{key:"getCacheKey",value:function(t,e,n){return JSON.stringify({statename:t,params:e,querys:n})}},{key:"getUrl",value:function(t,e,n){var o=this.getCacheKey(t,e,n);return K.has(o)?K.get(o):this.getPathname(t,e)+this.getQueryUrl(n)}},{key:"getPathname",value:function(t,e){var n=this.getCacheKey(t,e);if(K.has(n))return K.get(n);for(var o,i="",r=t,a=this.states[r];a;)i=a.getUrl(e).concat(i),(o=r.lastIndexOf("."))>0?(r=r.substr(0,o),a=this.states[r]):a=void 0;return K.set(n,i),i}},{key:"getQueryUrl",value:function(t){return t&&Object.keys(t).reduce((function(e,n,o){var i=t[n],r=Array.isArray(i)?i.reduce((function(t,e,o){return 0===o?"".concat(n,"=").concat(e):"".concat(t,"&").concat(n,"=").concat(e)}),""):"".concat(n,"=").concat(i);return 0===o?"?".concat(r):"".concat(e,"&").concat(r)}),"")||""}},{key:"includes",value:function(t){return!(!this.current||this.isUnknowState())&&this.current.state.includes(t)}},{key:"hasState",value:function(t){return!!this.states[t]}},{key:"isActive",value:function(t,e,n){if(!this.current)return!1;if(this.current.state.name!==t)return!1;if(e){var o=this.current.params;for(var i in e)if(e[i]!==o[i])return!1}if(n){var r=this.current.querys;for(var a in n)if(n[a]!==r[a])return!1}return!0}},{key:"isUnknowState",value:function(){return!!this.current&&this.current.state.name===W.name}},{key:"getHistory",value:function(){return this.history.slice(0)}}]),t}());J.otherwise("/todolist/#/"),J.state(q.HOME,"/todolist/#/").state(q.SELF,"/todolist/#/self").state(q.WORK,"/todolist/#/work").state(q.BUY,"/todolist/#/buy").state(q.ADD,"/todolist/#/add").state(q.EDIT,"/todolist/#/edit/:id");var Q={};for(var V in q){var Z=q[V];Q[V]=J.absolutePathMap[Z]}var X={STATES:q,PATHS:Q,getReactRouterList:function(){return J.getReactRouterList()},updateCurrent:function(t,e){return J.updateCurrent(t,e)},updateCurrentByPath:function(t,e){return J.updateCurrentByPath(t,e)},updateCurrentByState:function(t,e,n,o,i){return J.updateCurrentByState(t,e,n,o,i)},getCurrent:function(){return J.current},getUrl:function(t,e,n){return J.getUrl(t,e,n)},getPathname:function(t,e){return J.getPathname(t,e)},getQueryUrl:function(t){return J.getQueryUrl(t)},includes:function(t){return J.includes(t)},hasState:function(t){return J.hasState(t)},isActive:function(t,e,n){return J.isActive(t,e,n)},isUnknowState:function(){return J.isUnknowState()},getOtherwise:function(){return J.otherwisePath},getHistory:function(){return J.getHistory()}};var $=y.TODO_STATE,tt="gr.todo_list_data_map",et={};function nt(t){var e=JSON.stringify(t);localStorage.setItem(tt,e)}var ot={webActionCreators:{grStateGo:function(t,e,n,o){return function(i){if(!X.hasState(t))throw new Error("GRState has not state: "+t);var r={pathname:X.getPathname(t,e),search:X.getQueryUrl(n),state:o};return i(Object(l.push)(r))}},grStateReplace:function(t,e,n,o){return function(i){if(!X.hasState(t))throw new Error("GRState has not state: "+t);var r={pathname:X.getPathname(t,e),search:X.getQueryUrl(n),state:o};return i(Object(l.replace)(r))}},grStateGoOtherwise:function(){return function(t){var e=X.getOtherwise();if(e)return t(Object(l.replace)(e))}}},todoActionCreators:{getTodoData:function(){return function(t){return new Promise((function(e,n){t({type:j.getTodoDataStart}),setTimeout((function(){var o=function(){var t=localStorage.getItem(tt);return et=JSON.parse(t)||{}}();o?(t({type:j.getTodoDataSuccess,payload:{todoData:o}}),e(!0)):(t({type:j.getTodoDataError}),n(!1))}),0)}))}},addTodo:function(t){var e=t.title,n=t.time,o=t.category;return function(t){var i=Date.now(),r=i+"",a={id:r,title:e,createtime:i,todotime:n,category:o,remark:"",state:$.IDLE};return et[r]=a,nt(et),t(function(t){return{type:j.addTodoSuccess,payload:{todo:t}}}(a)),a}},editTodo:function(t){var e=t.id,n=t.title,o=t.time,i=t.category;return function(t){var r=et[e]||{},a=Object.assign({},r,{title:n,todotime:o,category:i});return et[e]=a,nt(et),t(function(t){return{type:j.editTodoSuccess,payload:{todo:t}}}(a)),a}},finishTodo:function(t){var e=t.id;return function(t){var n=et[e]||{},o=Object.assign({},n,{state:$.FINISH});return et[e]=o,nt(et),t(function(t){return{type:j.finishTodoSuccess,payload:{todo:t}}}(o)),o}},deleteTodo:function(t){var e=t.id;return function(t){var n=et[e]||{},o=Object.assign({},n,{state:$.DELETE});return et[e]=o,nt(et),t(function(t){return{type:j.deleteTodoSuccess,payload:{todo:t}}}(o)),o}},resetTodo:function(t){var e=t.id;return function(t){var n=et[e]||{},o=Object.assign({},n,{state:$.IDLE});return et[e]=o,nt(et),t(function(t){return{type:j.resetTodoSuccess,payload:{todo:t}}}(o)),o}}}},it=n(2),rt=n(3);function at(t){return("0"+parseInt(t,10).toString(16)).slice(-2)}var st,ct,ut,dt,lt,ht,pt,bt,ft,jt,gt,Ot,vt,mt,yt,xt,Tt,St,Ct,kt,Lt,Mt,wt,Et,At,Dt,It,Rt,Yt,zt,_t,Pt,Bt={Main:"#5bb9b9",Dark:"#565151",Dark2:"#6C6666",Dark3:"#8A807F",Dark4:"#A79E9D",Dark5:"#C6BDBC",Dark6:"#E2DFDE",Dark7:"#F0EFEE",Dark8:"#FDF3F3",LightBlue:"#E1ECFD",AllColor:"#d98597",SelfColor:"#7acbff",WorkColor:"#df9c01",BuyColor:"#9680f0",Red:"#e04131",LightenDarkenColor:function(t,e){var n=!1;"#"===t[0]&&(t=t.slice(1),n=!0);var o=parseInt(t,16),i=(o>>16)+e;i>255?i=255:i<0&&(i=0);var r=(o>>8&255)+e;r>255?r=255:r<0&&(r=0);var a=(255&o)+e;a>255?a=255:a<0&&(a=0);var s=(a|r<<8|i<<16).toString(16);return 6!==s.length?(n?"#":"")+(at(i)+at(a)+at(r)):(n?"#":"")+s},RGBA:function(t,e){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,o){return e+e+n+n+o+o}));var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n=n?"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+","+e+")":null}},Ft=60,Nt=Object(rt.c)(st||(st=Object(it.a)(["\n\tfrom {\n\t\ttransform: rotate(0deg);\n\t}\n\n\tto {\n\t\ttransform: rotate(360deg);\n\t}\n"]))),Ht=Object(rt.a)(ct||(ct=Object(it.a)(["\n\tbackground-color: ",";\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: cover;\n"])),Bt.ImgBackground),Gt=rt.b.div(ut||(ut=Object(it.a)(["\n\tposition: relative;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tmax-width: ","px;\n\tmin-height: 100vh;\n\theight: 100%;\n"])),600),Ut=rt.b.div(dt||(dt=Object(it.a)(["\n\tposition: relative;\n\tpadding: ","px 0 0 0px;\n"])),Ft),Wt=rt.b.div(lt||(lt=Object(it.a)(["\n    position: fixed;\n    display: flex;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: ","px;\n    background-color: ",";\n    z-index: ",";\n    align-items: center;\n"])),Ft,Bt.Main,950),Kt=rt.b.div(ht||(ht=Object(it.a)(["\n    display: inline-flex;\n    width: ","px;\n    height: ","px;\n    color: #fff;\n    font-size: 22px;\n    cursor: pointer;\n    align-items: center;\n    justify-content: center;\n"])),Ft,Ft),qt=rt.b.div(pt||(pt=Object(it.a)(["\n    color: #fff;\n    font-size: 16px;\n"]))),Jt=rt.b.div(bt||(bt=Object(it.a)(["\n    display: block;\n\twidth: 100%;\n\tpadding: 0 60px;\n\tcolor: #fff;\n    font-size: 16px;\n    text-align: center;\n"]))),Qt=rt.b.div(ft||(ft=Object(it.a)(["\n\tposition: absolute;\n\tdisplay: inline-flex;\n\ttop: 0;\n    height: ","px;\n\tpadding: 0 16px;\n\tcolor: #fff;\n\tfont-size: 14px;\n    cursor: pointer;\n    align-items: center;\n    justify-content: center;\n\n\ti {\n\t\tfont-size: 20px;\n\t}\n"])),Ft),Vt={ContainerMaxWidth:600,TopbarHeight:Ft,TopbarZindex:950,imageBackgroundCSS:Ht,RootContainer:Gt,ViewContainer:Ut,Topbar:Wt,TopbarMenuBtn:Kt,TopbarMenuTitle:qt,TopbarActionTitle:Jt,TopbarActionLeftBtn:Object(rt.b)(Qt)(jt||(jt=Object(it.a)(["\n\tleft: 0;\n"]))),TopbarActionRightBtn:Object(rt.b)(Qt)(gt||(gt=Object(it.a)(["\n\tright: 0;\n"]))),Spin:rt.b.div(Ot||(Ot=Object(it.a)(["\n\tposition: relative;\n\tvertical-align: sub;\n\tdisplay: ",";\n\twidth: ",";\n\theight: ",";\n\tmargin: ",";\n\tborder-width: ",";\n\tborder-style: solid;\n\tborder-top-color: ",";\n\tborder-left-color: ",";\n\tborder-right-color: ",";\n\tborder-bottom-color: ",";\n\tborder-radius: 100%;\n\tanimation: "," 0.6s linear infinite;\n"])),(function(t){return t.display?t.display:"inline-block"}),(function(t){return t.size?t.size:"20px"}),(function(t){return t.size?t.size:"20px"}),(function(t){return t.margin?t.margin:"0 auto"}),(function(t){return t.borderWidth?t.borderWidth:"2px"}),(function(t){return t.bgColor?t.bgColor:"transparent"}),(function(t){return t.bgColor?t.bgColor:"transparent"}),(function(t){return t.color?t.color:Bt.Main}),(function(t){return t.color?t.color:Bt.Main}),Nt),LoadingContainer:rt.b.div(vt||(vt=Object(it.a)(["\n\tposition: relative;\n\tdisplay: flex;\n\twidth: 100%;\n\theight: ",";\n\talign-items: center;\n\tjustify-content: center;\n"])),(function(t){return t.height?t.height:"112px"})),LoadingSpinCenter:rt.b.div(mt||(mt=Object(it.a)(["\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translateX(-50%) translateY(-50%);\n"]))),StatusContainer:rt.b.div(yt||(yt=Object(it.a)(["\n\tposition: relative;\n\twidth: 100%;\n\tpadding: ",";\n\tdisplay: flex;\n\tflex-direction: column;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n\tbackground-color: ",";\n"])),(function(t){var e=t.contentPadding;return e||"10px"}),(function(t){return t.BGColor||"transparent"})),StateContainer:rt.b.div(xt||(xt=Object(it.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\twidth: 100%;\n\theight: 300px;\n\talign-items: center;\n\tjustify-content: center;\n"]))),StateContent:rt.b.div(Tt||(Tt=Object(it.a)(["\n\ttext-align: center;\n\tmax-width: 480px;\n"]))),StateTtile:rt.b.h3(St||(St=Object(it.a)(["\n\tfont-size: 18px;\n\tmargin: 0;\n\tcolor: ",";\n"])),Bt.Title),StateDescription:rt.b.p(Ct||(Ct=Object(it.a)(["\n\tfont-size: 16px;\n\tmargin: 20px 0 0;\n\tcolor: ",";\n\ta {\n\t\tdisplay: inline-flex;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\ttext-decoration: underline;\n\t\tcolor: #333;\n\t\tfont-weight: 600;\n\t}\n"])),Bt.Paragraph),StateAction:rt.b.div(kt||(kt=Object(it.a)(["\n"])))},Zt=n(1),Xt=function(t){Object(P.a)(n,t);var e=Object(B.a)(n);function n(){return Object(z.a)(this,n),e.apply(this,arguments)}return Object(_.a)(n,[{key:"componentWillMount",value:function(){var t=this,e=this.props.history,n=e.location,o=e.action;X.updateCurrent(n,o),X.isUnknowState()&&this.props.webActions.grStateGoOtherwise(),e.listen((function(e,n){X.updateCurrent(e,n),X.isUnknowState()&&t.props.webActions.grStateGoOtherwise()}))}},{key:"render",value:function(){return Object(Zt.jsx)(Zt.Fragment,{children:this.props.children})}}]),n}(o.PureComponent),$t=Object(s.c)((function(t){return{history:t.web.history}}),(function(t){return{webActions:Object(c.bindActionCreators)(ot.webActionCreators,t)}}),null,{forwardRef:!0})(Xt),te=n(7),ee=n(28),ne=X.STATES,oe=y.TODO_CATEGORY_TYPE,ie=y.getTodoCategoryTypeText,re=rt.b.div(Lt||(Lt=Object(it.a)(["\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    opacity: ",";\n    background-color: rgba(0,0,0,0.4);\n    transition: opacity 0.3s;\n    z-index: ",";\n    user-select: none;\n    pointer-events: none;\n"])),(function(t){return t.show?1:0}),Vt.TopbarZindex+1),ae=rt.b.div(Mt||(Mt=Object(it.a)(["\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: ",";\n    transform: ",";\n    transition: transform 0.3s;\n"])),Vt.TopbarZindex+2,(function(t){return t.show?"none":"translateX(-100%)"})),se=rt.b.div(wt||(wt=Object(it.a)(["\n    position: relative;\n    width: 240px;\n    max-width: 70%;\n    height: 100%;\n    background-color: #fff;\n    z-index: 2;\n"]))),ce=rt.b.div(Et||(Et=Object(it.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 1;\n"]))),ue=rt.b.div(At||(At=Object(it.a)(["\n    display: flex;\n    height: 120px;\n    background-color: ",";\n    align-items: center;\n    justify-content: center;\n"])),Bt.Main),de=rt.b.div(Dt||(Dt=Object(it.a)(["\n    line-height: 1.3;\n    color: #fff;\n    font-size: 20px;\n    text-align: center;\n"]))),le=rt.b.div(It||(It=Object(it.a)(["\n    display: flex;\n    height: 40px;\n    margin: 1px 0 0 0;\n    border-left-width: 3px;\n    border-left-style: solid;\n    background-color: ",";\n    color: ",";\n    font-size: 14px;\n    cursor: pointer;\n    align-items: center;\n"])),(function(t){return t.active?"#eee":"#fff"}),Bt.Dark2),he=Object(rt.b)(le)(Rt||(Rt=Object(it.a)(["\n    border-left-color: ","; \n"])),Bt.AllColor),pe=Object(rt.b)(le)(Yt||(Yt=Object(it.a)(["\n    border-left-color: ",";\n"])),Bt.SelfColor),be=Object(rt.b)(le)(zt||(zt=Object(it.a)(["\n    border-left-color: ",";\n"])),Bt.WorkColor),fe=Object(rt.b)(le)(_t||(_t=Object(it.a)(["\n    border-left-color: ",";\n"])),Bt.BuyColor),je=rt.b.div(Pt||(Pt=Object(it.a)(["\n    display: flex;\n    width: 40px;\n    height: 40px;\n    align-items: center;\n    justify-content: center;\n    font-size: 16px;\n"]))),ge=function(t){Object(P.a)(n,t);var e=Object(B.a)(n);function n(t){var o;return Object(z.a)(this,n),(o=e.call(this,t)).state={isShowMenu:!1},o.openMenu=o.openMenu.bind(Object(te.a)(o)),o.closeMenu=o.closeMenu.bind(Object(te.a)(o)),o.onNavClick=o.onNavClick.bind(Object(te.a)(o)),o}return Object(_.a)(n,[{key:"openMenu",value:function(){this.setState({isShowMenu:!0})}},{key:"closeMenu",value:function(){this.setState({isShowMenu:!1})}},{key:"onNavClick",value:function(t){this.props.webActions.grStateGo(t),this.closeMenu()}},{key:"renderMenuTopbar",value:function(){var t=this,e=this.state.isShowMenu,n=this.props.title;return Object(Zt.jsxs)(Zt.Fragment,{children:[Object(Zt.jsxs)(Vt.Topbar,{children:[Object(Zt.jsx)(Vt.TopbarMenuBtn,{onClick:this.openMenu,children:Object(Zt.jsx)("i",{className:"zmdi zmdi-menu"})}),Object(Zt.jsx)(Vt.TopbarMenuTitle,{children:n})]}),Object(Zt.jsx)(re,{show:e}),Object(Zt.jsxs)(ae,{show:e,children:[Object(Zt.jsx)(ce,{onClick:this.closeMenu}),Object(Zt.jsxs)(se,{children:[Object(Zt.jsx)(ue,{children:Object(Zt.jsxs)(de,{children:["ToDo",Object(Zt.jsx)("br",{}),"List"]})}),Object(Zt.jsxs)(he,{onClick:function(){return t.onNavClick(ne.HOME)},active:X.isActive(ne.HOME),children:[Object(Zt.jsx)(je,{children:Object(Zt.jsx)("i",{className:"zmdi zmdi-apps"})}),ie(oe.ALL)]}),Object(Zt.jsxs)(pe,{onClick:function(){return t.onNavClick(ne.SELF)},active:X.isActive(ne.SELF),children:[Object(Zt.jsx)(je,{children:Object(Zt.jsx)("i",{className:"zmdi zmdi-account"})}),ie(oe.SELF)]}),Object(Zt.jsxs)(be,{onClick:function(){return t.onNavClick(ne.WORK)},active:X.isActive(ne.WORK),children:[Object(Zt.jsx)(je,{children:Object(Zt.jsx)("i",{className:"zmdi zmdi-case"})}),ie(oe.WORK)]}),Object(Zt.jsxs)(fe,{onClick:function(){return t.onNavClick(ne.BUY)},active:X.isActive(ne.BUY),children:[Object(Zt.jsx)(je,{children:Object(Zt.jsx)("i",{className:"zmdi zmdi-shopping-cart"})}),ie(oe.BUY)]})]})]})]})}},{key:"renderActionTopbar",value:function(){var t=this.props,e=t.title,n=t.leftComponent,o=t.rightComponent;return Object(Zt.jsxs)(Vt.Topbar,{children:[n,Object(Zt.jsx)(Vt.TopbarActionTitle,{children:e}),o]})}},{key:"render",value:function(){switch(this.props.layoutType){case"menu":return this.renderMenuTopbar();case"action":return this.renderActionTopbar();default:return null}}}]),n}(o.PureComponent);ge.defaultProps={title:"ToDo",layoutType:"menu",leftComponent:null,rightComponent:null};var Oe=Object(s.c)((function(t){return{history:t.web.history}}),(function(t){return{webActions:Object(c.bindActionCreators)(ot.webActionCreators,t)}}),null,{forwardRef:!0})(ge),ve=n(15),me=n.n(ve);n(65);me.a.locale("zh-tw");var ye={TIME_AGO:"timeAgo",SIMPLE_TIME_AGO:"simpleTimeAgo",SIMPLE_FULL_TIME:"simpleFullTime",FORMAT_MEDIA_PLAY_TIME:"formatMediaPlayTime",TIME_STRING:"timeString",TIME_DASH_STRING:"timeDashString",FULLTIME_DASH_STRING:"fulltimeDashString",TIME_SLASH_STRING:"timeSlashString",TIME_CHINESE_STRING:"timeChineseString",SIMPLE_MEDIA_PLAY_TIME:"simpleMediaPlayTime"},xe=function(t){return me()(t).format("YYYY-MM-DDTHH:mm")},Te=function(t){var e=function(){var e=t.time,n=864e5,o=new Date(e),i=new Date;switch(t.format){case ye.TIME_AGO:return o.getFullYear()===i.getFullYear()?i.getTime()-o.getTime()>=n?me()(e).format("L"):me()(e).fromNow():me()(e).format("LL");case ye.SIMPLE_TIME_AGO:return o.getFullYear()===i.getFullYear()?i.getTime()-o.getTime()>=n?me()(e).format("YYYY-MM-DD"):me()(e).fromNow():me()(e).format("YYYY-MM-DD");case ye.SIMPLE_FULL_TIME:return me()(e).format("YYYY/MM/DD HH:mm");case ye.FORMAT_MEDIA_PLAY_TIME:if(!isNaN(e)&&e>0){var r=Math.floor(e/60),a=Math.round(e%60),s=Math.floor(e/3600);return s<1?(r=r<10?"0"+r:r)+":"+(a=a<10?"0"+a:a):s+":"+(r=(r=Math.round(r%60))<10?"0"+r:r)+":"+(a=a<10?"0"+a:a)}return"--:--";case ye.TIME_STRING:return me()(e).format("YYYY.MM.DD");case ye.TIME_DASH_STRING:return me()(e).format("YYYY-MM-DD");case ye.FULLTIME_DASH_STRING:return me()(e).format("YYYY-MM-DD HH:mm");case ye.TIME_SLASH_STRING:return me()(e).format("YYYY / MM / DD");case ye.TIME_CHINESE_STRING:return me()(e).format("YYYY\u5e74MM\u6708DD\u65e5");case ye.SIMPLE_MEDIA_PLAY_TIME:return!isNaN(e)&&e>0?e/3600>0?" "+Math.floor(e/3600*10)/10+" hr":" "+Math.floor(e/60*10)/10+" min":0;default:return""}}();return Object(Zt.jsx)("span",{children:e})};Te.defaultProps={format:ye.FORMAT_TYPE};var Se,Ce,ke,Le,Me,we,Ee,Ae,De,Ie,Re,Ye,ze,_e,Pe,Be,Fe,Ne,He,Ge,Ue,We,Ke,qe,Je,Qe,Ve=i.a.memo(Te),Ze=n(21),Xe=X.STATES,$e=y.TODO_CATEGORY_TYPE,tn=y.getTodoCategoryTypeText,en=Object(rt.b)(ee.a)(Se||(Se=Object(it.a)(["\n    padding: 20px 12px;\n    width: 100%;\n    min-height: 160px;\n    line-height: 20px;\n    border: 0;\n    color: ",";\n    font-size: 15px;\n    resize: none;\n"])),Bt.Dark),nn=rt.b.label(Ce||(Ce=Object(it.a)(["\n    position: relative;\n    display: flex;\n    height: 50px;\n    padding: 0;\n    border-top: 1px solid #eee;\n    align-items: center;\n    color: ",";\n    font-size: 12px;\n    cursor: pointer;\n\n    &:last-child {\n        border-bottom: 1px solid #eee;\n    }\n"])),Bt.Dark3),on=rt.b.div(ke||(ke=Object(it.a)(["\n    display: inline-flex;\n    width: 50px;\n    height: 50px;\n    color: ",";\n    font-size: 16px;\n    align-items: center;\n    justify-content: center;\n"])),Bt.Dark3),rn=rt.b.div(Le||(Le=Object(it.a)(["\n    display: inline-block;\n    margin: 0 16px 0 auto;\n    padding: 4px 10px;\n    border-radius: 8px;\n    color: ",";\n    font-size: 12px;\n    background-color: ",";\n"])),Bt.Dark2,Bt.LightBlue),an=rt.b.select(Me||(Me=Object(it.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n    z-index: 2;\n    cursor: pointer;\n"]))),sn=rt.b.input(we||(we=Object(it.a)(["\n    display: inline-block;\n    margin: 0 16px 0 auto;\n    padding: 4px 10px;\n    border: none;\n    border-radius: 8px;\n    color: ",";\n    font-size: 12px;\n    background-color: ",";\n"])),Bt.Dark2,Bt.LightBlue),cn=rt.b.input(Ee||(Ee=Object(it.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 0;\n    height: 0;\n    opacity: 0;\n"]))),un=function(t){Object(P.a)(n,t);var e=Object(B.a)(n);function n(t){var o;return Object(z.a)(this,n),(o=e.call(this,t)).state={title:"",category:$e.ALL,dateStr:"",time:0},o.goBack=o.goBack.bind(Object(te.a)(o)),o.onTitleChange=o.onTitleChange.bind(Object(te.a)(o)),o.onCategoryChange=o.onCategoryChange.bind(Object(te.a)(o)),o.onTimeChange=o.onTimeChange.bind(Object(te.a)(o)),o.sumbit=o.sumbit.bind(Object(te.a)(o)),o}return Object(_.a)(n,[{key:"goBack",value:function(){var t=X.getHistory();if(!Array.isArray(t)||t.length<=1)this.props.webActions.grStateGo(Xe.HOME);else{for(var e=void 0,n=t.length-1;n--&&(!(e=t[n])||e.state.name===Xe.ADD);n>=0);e?this.props.webActions.grStateGo(e.state.name):this.props.webActions.grStateGo(Xe.HOME)}}},{key:"onTitleChange",value:function(t){this.setState({title:t.target.value})}},{key:"onCategoryChange",value:function(t){this.setState({category:t.target.value})}},{key:"onTimeChange",value:function(t){var e=t.target.value,n=new Date(e).getTime();this.setState({dateStr:e,time:n})}},{key:"sumbit",value:function(){var t=this.state,e=t.title,n=void 0===e?"":e,o=t.category,i=t.time;n=n.trim(),i=i>0?i:Date.now(),n&&(this.props.todoActions.addTodo({title:n,time:i,category:o}),this.goBack())}},{key:"render",value:function(){var t=this.state,e=t.title,n=t.category,o=t.dateStr,i=t.time;return Object(Zt.jsxs)(Vt.ViewContainer,{children:[Object(Zt.jsx)(Oe,{title:"\u65b0\u589e Todo",layoutType:"action",leftComponent:Object(Zt.jsx)(Vt.TopbarActionLeftBtn,{onClick:this.goBack,children:Object(Zt.jsx)("i",{className:"zmdi zmdi-chevron-left"})}),rightComponent:Object(Zt.jsx)(Vt.TopbarActionRightBtn,{onClick:this.sumbit,children:"\u9001\u51fa"})}),Object(Zt.jsx)(en,{minRows:1,placeholder:"\u5728\u9019\u88e1\u8f38\u5165\u65b0\u4efb\u52d9",value:e,onChange:this.onTitleChange}),Object(Zt.jsxs)(nn,{children:[Object(Zt.jsx)(on,{children:Object(Zt.jsx)("i",{className:"zmdi zmdi-label-alt"})}),"\u5206\u985e",Object(Zt.jsx)(rn,{children:tn(n)}),Object(Zt.jsxs)(an,{value:n,onChange:this.onCategoryChange,children:[Object(Zt.jsx)("option",{value:$e.ALL,children:tn($e.ALL)}),Object(Zt.jsx)("option",{value:$e.SELF,children:tn($e.SELF)}),Object(Zt.jsx)("option",{value:$e.WORK,children:tn($e.WORK)}),Object(Zt.jsx)("option",{value:$e.BUY,children:tn($e.BUY)})]})]}),Object(Zt.jsxs)(nn,{children:[Object(Zt.jsx)(on,{children:Object(Zt.jsx)("i",{className:"zmdi zmdi-time"})}),"\u9810\u5b9a\u6642\u9593",Ze.isBrowser?Object(Zt.jsx)(sn,{type:"datetime-local",value:o,onChange:this.onTimeChange}):null,Ze.isMobile?Object(Zt.jsx)(cn,{type:"datetime-local",value:o,onChange:this.onTimeChange}):null,Ze.isMobile&&i>0?Object(Zt.jsx)(rn,{children:Object(Zt.jsx)(Ve,{time:i,format:ye.FULLTIME_DASH_STRING})}):null]})]})}}]),n}(o.PureComponent),dn=Object(s.c)((function(t){return{}}),(function(t){return{webActions:Object(c.bindActionCreators)(ot.webActionCreators,t),todoActions:Object(c.bindActionCreators)(ot.todoActionCreators,t)}}),null,{forwardRef:!0})(un),ln=n(48),hn=X.STATES,pn=y.TODO_CATEGORY_TYPE,bn=y.getTodoCategoryTypeText,fn=Object(rt.b)(ee.a)(Ae||(Ae=Object(it.a)(["\n    padding: 20px 12px;\n    width: 100%;\n    min-height: 160px;\n    line-height: 20px;\n    border: 0;\n    color: ",";\n    font-size: 15px;\n    resize: none;\n"])),Bt.Dark),jn=rt.b.label(De||(De=Object(it.a)(["\n    position: relative;\n    display: flex;\n    height: 50px;\n    padding: 0;\n    border-top: 1px solid #eee;\n    align-items: center;\n    color: ",";\n    font-size: 12px;\n    cursor: pointer;\n\n    &:last-child {\n        border-bottom: 1px solid #eee;\n    }\n"])),Bt.Dark3),gn=rt.b.div(Ie||(Ie=Object(it.a)(["\n    display: inline-flex;\n    width: 50px;\n    height: 50px;\n    color: ",";\n    font-size: 16px;\n    align-items: center;\n    justify-content: center;\n"])),Bt.Dark3),On=rt.b.div(Re||(Re=Object(it.a)(["\n    display: inline-block;\n    margin: 0 16px 0 auto;\n    padding: 4px 10px;\n    border-radius: 8px;\n    color: ",";\n    font-size: 12px;\n    background-color: ",";\n"])),Bt.Dark2,Bt.LightBlue),vn=rt.b.select(Ye||(Ye=Object(it.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n    z-index: 2;\n    cursor: pointer;\n"]))),mn=rt.b.input(ze||(ze=Object(it.a)(["\n    display: inline-block;\n    margin: 0 16px 0 auto;\n    padding: 4px 10px;\n    border: none;\n    border-radius: 8px;\n    color: ",";\n    font-size: 12px;\n    background-color: ",";\n"])),Bt.Dark2,Bt.LightBlue),yn=rt.b.input(_e||(_e=Object(it.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 0;\n    height: 0;\n    opacity: 0;\n"]))),xn=rt.b.div(Pe||(Pe=Object(it.a)(["\n    display: flex;\n    width: 80%;\n    height: 40px;\n    margin: 40px auto 20px auto;\n    border-radius: 5px;\n    align-items: center;\n    justify-content: center;\n    color: #fff;\n    font-size: 14px;\n    background-color: ",";\n    opacity: 0.3;\n    cursor: pointer;\n"])),Bt.Red),Tn=function(t){Object(P.a)(n,t);var e=Object(B.a)(n);function n(t){var o;return Object(z.a)(this,n),(o=e.call(this,t)).state={id:"",title:"",category:"",dateStr:"",time:0,isError:!1},o.goBack=o.goBack.bind(Object(te.a)(o)),o.onTitleChange=o.onTitleChange.bind(Object(te.a)(o)),o.onCategoryChange=o.onCategoryChange.bind(Object(te.a)(o)),o.onTimeChange=o.onTimeChange.bind(Object(te.a)(o)),o.sumbit=o.sumbit.bind(Object(te.a)(o)),o.delete=o.delete.bind(Object(te.a)(o)),o}return Object(_.a)(n,[{key:"componentDidMount",value:function(){this.getTodoData()}},{key:"getTodoData",value:function(){var t=this,e=this.props,n=e.isTodoLoading,o=e.isTodoLoadError;e.isTodoLoaded?this.initTodo():n||o||this.props.todoActions.getTodoData().then((function(e){t.initTodo()}),(function(t){}))}},{key:"componentDidUpdate",value:function(t,e){this.getTodoData()}},{key:"initTodo",value:function(){var t=this.state.id,e=this.props.todoMap,n=(X.getCurrent().params||{}).id||"",o=e[n];if(t!==n)if(o){var i=o.title,r=o.category,a=o.todotime,s=xe(a);this.setState({id:n,title:i,category:r,dateStr:s,time:a,isError:!1})}else this.setState({isError:!0})}},{key:"goBack",value:function(){var t=X.getHistory();if(!Array.isArray(t)||t.length<=1)this.props.webActions.grStateGo(hn.HOME);else{for(var e=void 0,n=t.length-1;n--&&(!(e=t[n])||e.state.name===hn.EDIT);n>=0);e?this.props.webActions.grStateGo(e.state.name):this.props.webActions.grStateGo(hn.HOME)}}},{key:"onTitleChange",value:function(t){this.setState({title:t.target.value})}},{key:"onCategoryChange",value:function(t){this.setState({category:t.target.value})}},{key:"onTimeChange",value:function(t){var e=t.target.value,n=new Date(e).getTime();this.setState({dateStr:e,time:n})}},{key:"sumbit",value:function(){var t=this.state,e=t.id,n=t.title,o=void 0===n?"":n,i=t.category,r=t.time;o=o.trim(),r=r>0?r:Date.now(),o&&(this.props.todoActions.editTodo({id:e,title:o,time:r,category:i}),this.goBack())}},{key:"delete",value:function(){var t=this;Object(ln.confirmAlert)({message:"\u5373\u5c07\u522a\u9664Todo\uff0c\u78ba\u5b9a\u55ce\uff1f",buttons:[{label:"\u78ba\u5b9a",onClick:function(){var e=t.state.id;t.props.todoActions.deleteTodo({id:e}),t.goBack()}},{label:"\u53d6\u6d88"}],overlayClassName:"gr-confirm-overlay-custom"})}},{key:"render",value:function(){var t=this.state,e=t.title,n=t.category,o=t.dateStr,i=t.time;return Object(Zt.jsxs)(Vt.ViewContainer,{children:[Object(Zt.jsx)(Oe,{title:"\u7de8\u8f2f Todo",layoutType:"action",leftComponent:Object(Zt.jsx)(Vt.TopbarActionLeftBtn,{onClick:this.goBack,children:Object(Zt.jsx)("i",{className:"zmdi zmdi-chevron-left"})}),rightComponent:Object(Zt.jsx)(Vt.TopbarActionRightBtn,{onClick:this.sumbit,children:"\u5132\u5b58"})}),Object(Zt.jsx)(fn,{minRows:1,placeholder:"\u5728\u9019\u88e1\u8f38\u5165\u4efb\u52d9",value:e,onChange:this.onTitleChange}),Object(Zt.jsxs)("div",{children:[Object(Zt.jsxs)(jn,{children:[Object(Zt.jsx)(gn,{children:Object(Zt.jsx)("i",{className:"zmdi zmdi-label-alt"})}),"\u5206\u985e",Object(Zt.jsx)(On,{children:bn(n)}),Object(Zt.jsxs)(vn,{value:n,onChange:this.onCategoryChange,children:[Object(Zt.jsx)("option",{value:pn.ALL,children:bn(pn.ALL)}),Object(Zt.jsx)("option",{value:pn.SELF,children:bn(pn.SELF)}),Object(Zt.jsx)("option",{value:pn.WORK,children:bn(pn.WORK)}),Object(Zt.jsx)("option",{value:pn.BUY,children:bn(pn.BUY)})]})]}),Object(Zt.jsxs)(jn,{children:[Object(Zt.jsx)(gn,{children:Object(Zt.jsx)("i",{className:"zmdi zmdi-time"})}),"\u9810\u5b9a\u6642\u9593",Ze.isBrowser?Object(Zt.jsx)(mn,{type:"datetime-local",value:o,onChange:this.onTimeChange}):null,Ze.isMobile?Object(Zt.jsx)(yn,{type:"datetime-local",value:o,onChange:this.onTimeChange}):null,Ze.isMobile&&i>0?Object(Zt.jsx)(On,{children:Object(Zt.jsx)(Ve,{time:i,format:ye.FULLTIME_DASH_STRING})}):null]})]}),Object(Zt.jsx)(xn,{onClick:this.delete,children:"\u522a\u9664 Todo"})]})}}]),n}(o.PureComponent),Sn=Object(s.c)((function(t){return{isTodoLoading:t.todo.isTodoLoading,isTodoLoadError:t.todo.isTodoLoadError,isTodoLoaded:t.todo.isTodoLoaded,todoMap:t.todo.todoMap}}),(function(t){return{webActions:Object(c.bindActionCreators)(ot.webActionCreators,t),todoActions:Object(c.bindActionCreators)(ot.todoActionCreators,t)}}),null,{forwardRef:!0})(Tn),Cn=n(35),kn=n(26),Ln=n(25),Mn=["active","padding","measure"],wn=["statename","params","querys","children","stylecomponent","locationState"],En=function(t){Object(P.a)(n,t);var e=Object(B.a)(n);function n(t){var o;if(Object(z.a)(this,n),(o=e.call(this,t)).clean_props=Object(kn.a)({},o.props),o.props.stylecomponent){var i=Object(rt.b)((function(t){t.active,t.padding,t.measure;var e=Object(Cn.a)(t,Mn);return Object(Zt.jsx)(Ln.a,Object(kn.a)({},e))}))(Be||(Be=Object(it.a)([""])));o.ViewComponent=o.props.stylecomponent.withComponent(i)}else o.ViewComponent=Ln.a;return o.state={to:{pathname:"",state:void 0,search:void 0}},o}return Object(_.a)(n,[{key:"componentDidMount",value:function(){this.init(this.props)}},{key:"componentWillReceiveProps",value:function(t){this.init(t)}},{key:"init",value:function(t){var e=this.props,n=e.statename,o=e.params,i=e.querys,r=e.locationState,a=X.getPathname(n,o),s=X.getQueryUrl(i);if(a!==this.state.to.pathname||s!==this.state.to.search){var c=Object.assign({},this.state.to,{pathname:a,search:s,state:r});a||s||r||(c=""),this.setState({to:c})}}},{key:"render",value:function(){var t=this.props,e=(t.statename,t.params,t.querys,t.children,t.stylecomponent,t.locationState,Object(Cn.a)(t,wn));return Object(Zt.jsx)(this.ViewComponent,Object(kn.a)(Object(kn.a)({to:this.state.to},e),{},{children:this.props.children}))}}]),n}(o.PureComponent),An=X.STATES,Dn=y.TODO_CATEGORY_TYPE,In=y.TODO_STATE,Rn=y.getTodoCategoryTypeText,Yn=rt.b.div(Fe||(Fe=Object(it.a)(["\n    padding: 0 10px;\n"]))),zn=rt.b.div(Ne||(Ne=Object(it.a)(["\n    display: flex;\n    height: 40px;\n    color: ",";\n    font-size: 14px;\n    cursor: pointer;\n    align-items: center;\n\n    i {\n        margin: 0 6px 0 auto;\n        font-size: 18px;\n    }\n"])),Bt.Dark),_n=rt.b.div(He||(He=Object(it.a)(["\n    padding: 0 2px;\n"]))),Pn=rt.b.div(Ge||(Ge=Object(it.a)(["\n    height: 50px;\n    line-height: 50px;\n    color: ",";\n    font-size: 12px;\n    text-align: center;\n"])),Bt.Dark5),Bn=rt.b.div(Ue||(Ue=Object(it.a)(["\n    display: flex;\n    margin: 0 0 4px 0;\n    padding: 12px;\n    border-left-width: 3px;\n    border-left-style: solid;\n    border-left-color: ",";\n    border-radius: 5px;\n    background-color: #f3f3f3;\n    align-items: center;\n"])),(function(t){return t.color?t.color:"#f3f3f3"})),Fn=rt.b.div(We||(We=Object(it.a)(["\n    display: inline-flex;\n    width: 20px;\n    min-width: 20px;\n    height: 20px;\n    margin: 0 12px 0 0;\n    border: 2px solid #ccc;\n    border-radius: 50%;\n    color: #fff;\n    font-size: 14px;\n    cursor: pointer;\n    align-items: center;\n    justify-content: center;\n\n    i {\n        opacity: 0;\n    }\n\n    ","\n"])),(function(t){if(t.active)return"\n                background-color: #ccc;\n\n                i {\n                    opacity: 1;\n                }\n            "})),Nn=rt.b.div(Ke||(Ke=Object(it.a)(["\n    display: block;\n"]))),Hn=rt.b.div(qe||(qe=Object(it.a)(["\n    color: ",";\n    font-size: 14px;\n"])),Bt.Dark),Gn=rt.b.div(Je||(Je=Object(it.a)(["\n    color: ",";\n    font-size: 12px;\n"])),Bt.Dark5),Un=rt.b.div(Qe||(Qe=Object(it.a)(["\n    position: fixed;\n    display: flex;\n    right: 20px;\n    bottom: 20px;\n    width: 48px;\n    height: 48px;\n    border-radius: 50%;\n    color: #fff;\n    font-size: 24px;\n    background-color: ",";\n    cursor: pointer;\n    align-items: center;\n    justify-content: center;\n    z-index: 2;\n    box-shadow: #ddd 0px 3px 8px;\n"])),Bt.Main),Wn=function(t){Object(P.a)(n,t);var e=Object(B.a)(n);function n(t){var o;return Object(z.a)(this,n),(o=e.call(this,t)).state={foldMap:{}},o.toogleFold=o.toogleFold.bind(Object(te.a)(o)),o.toogleFinishTodo=o.toogleFinishTodo.bind(Object(te.a)(o)),o.editTodo=o.editTodo.bind(Object(te.a)(o)),o}return Object(_.a)(n,[{key:"componentDidMount",value:function(){this.getTodoData()}},{key:"getTodoData",value:function(){var t=this.props,e=t.isTodoLoading,n=t.isTodoLoadError,o=t.isTodoLoaded;e||n||o||this.props.todoActions.getTodoData().then((function(t){}),(function(t){}))}},{key:"toogleFold",value:function(t){var e=this.state.foldMap,n=e[t],o=Object.assign({},e,Object(f.a)({},t,!n));this.setState({foldMap:o})}},{key:"toogleFinishTodo",value:function(t,e){t.stopPropagation();var n=e.id;e.state!==In.FINISH?this.props.todoActions.finishTodo({id:n}):this.props.todoActions.resetTodo({id:n})}},{key:"editTodo",value:function(t){this.props.webActions.grStateGo(An.EDIT,{id:t})}},{key:"renderList",value:function(t,e,n,o){var i=this,r=this.state.foldMap[t],a=n[t]||[],s=0===a.length;return s&&o?null:Object(Zt.jsxs)(Zt.Fragment,{children:[Object(Zt.jsxs)(zn,{onClick:function(){return i.toogleFold(t)},children:[e,s?null:" (".concat(a.length,")"),r?Object(Zt.jsx)("i",{className:"zmdi zmdi-caret-down"}):Object(Zt.jsx)("i",{className:"zmdi zmdi-caret-up"})]}),r?null:Object(Zt.jsxs)(_n,{children:[a.map((function(t,e){return i.renderItem(t,e)})),0===a.length?Object(Zt.jsx)(Pn,{children:"\u76ee\u524d\u6c92\u6709\u4ee3\u8fa6\u4efb\u52d9\uff0c\u9ede\u64ca+\u65b0\u589e\u4efb\u52d9\u3002"}):null]})]})}},{key:"renderItem",value:function(t,e){var n=this,o=this.props.todoMap[t];if(!o)return null;var i,r=o.title,a=o.category,s=o.todotime,c=o.state;if(c===In.DELETE)return null;switch(a){case Dn.ALL:i=Bt.AllColor;break;case Dn.SELF:i=Bt.SelfColor;break;case Dn.WORK:i=Bt.WorkColor;break;case Dn.BUY:i=Bt.BuyColor;break;default:i=Bt.AllColor}return Object(Zt.jsxs)(Bn,{color:i,onClick:function(){return n.editTodo(t)},children:[Object(Zt.jsx)(Fn,{active:c===In.FINISH,onClick:function(t){return n.toogleFinishTodo(t,o)},children:Object(Zt.jsx)("i",{className:"zmdi zmdi-check"})}),Object(Zt.jsxs)(Nn,{children:[Object(Zt.jsx)(Hn,{children:r}),Object(Zt.jsx)(Gn,{children:Object(Zt.jsx)(Ve,{time:s,format:ye.FULLTIME_DASH_STRING})})]})]},e)}},{key:"render",value:function(){var t=this.props,e=t.category,n=t.todoList[e]||{},o="Todo - ".concat(Rn(e));return Object(Zt.jsxs)(Vt.ViewContainer,{children:[Object(Zt.jsx)(Oe,{title:o,layoutType:"menu"}),Object(Zt.jsxs)(Yn,{children:[this.renderList("today","\u4eca\u5929",n),this.renderList("others","\u4ee3\u8fa6",n),this.renderList("success","\u5b8c\u6210",n,!0),Object(Zt.jsx)(En,{statename:An.ADD,stylecomponent:Un,children:Object(Zt.jsx)("i",{className:"zmdi zmdi-plus"})})]})]})}}]),n}(o.PureComponent);Wn.defaultProps={category:Dn.ALL};var Kn=Object(s.c)((function(t){return{isTodoLoading:t.todo.isTodoLoading,isTodoLoadError:t.todo.isTodoLoadError,isTodoLoaded:t.todo.isTodoLoaded,todoMap:t.todo.todoMap,todoList:t.todo.todoList}}),(function(t){return{webActions:Object(c.bindActionCreators)(ot.webActionCreators,t),todoActions:Object(c.bindActionCreators)(ot.todoActionCreators,t)}}),null,{forwardRef:!0})(Wn),qn=X.PATHS,Jn=y.TODO_CATEGORY_TYPE,Qn=function(t){Object(P.a)(n,t);var e=Object(B.a)(n);function n(){return Object(z.a)(this,n),e.apply(this,arguments)}return Object(_.a)(n,[{key:"render",value:function(){var t=this.props.location;return Object(Zt.jsxs)(F.c,{location:t,children:[Object(Zt.jsx)(F.a,{path:qn.HOME,render:function(){return Object(Zt.jsx)(Kn,{category:Jn.ALL})},exact:!0}),Object(Zt.jsx)(F.a,{path:qn.SELF,render:function(){return Object(Zt.jsx)(Kn,{category:Jn.SELF})},exact:!0}),Object(Zt.jsx)(F.a,{path:qn.WORK,render:function(){return Object(Zt.jsx)(Kn,{category:Jn.WORK})},exact:!0}),Object(Zt.jsx)(F.a,{path:qn.BUY,render:function(){return Object(Zt.jsx)(Kn,{category:Jn.BUY})},exact:!0}),Object(Zt.jsx)(F.a,{path:qn.ADD,component:dn,exact:!0}),Object(Zt.jsx)(F.a,{path:qn.EDIT,component:Sn,exact:!0})]})}}]),n}(o.PureComponent),Vn=(n(67),function(t){Object(P.a)(n,t);var e=Object(B.a)(n);function n(t){var o;return Object(z.a)(this,n),(o=e.call(this,t)).state={},o}return Object(_.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this.props.history;return Object(Zt.jsx)($t,{children:Object(Zt.jsx)(h.a,{history:t,children:Object(Zt.jsx)(Vt.RootContainer,{children:Object(Zt.jsx)(F.a,{component:Qn})})})})}}]),n}(o.Component)),Zn=Object(s.c)((function(t){return{history:t.web.history}}),(function(t){return{webActions:Object(c.bindActionCreators)(ot.webActionCreators,t)}}),null,{forwardRef:!0})(Vn);var Xn=function(){return Object(Zt.jsx)(s.a,{store:Y,children:Object(Zt.jsx)(Zn,{})})},$n=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,69)).then((function(e){var n=e.getCLS,o=e.getFID,i=e.getFCP,r=e.getLCP,a=e.getTTFB;n(t),o(t),i(t),r(t),a(t)}))};a.a.render(Object(Zt.jsx)(i.a.StrictMode,{children:Object(Zt.jsx)(Xn,{})}),document.getElementById("root")),$n()}},[[68,1,2]]]);
//# sourceMappingURL=main.de48cd1c.chunk.js.map